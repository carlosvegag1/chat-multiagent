<h1>üß† Sistema Multiagente para la Gesti√≥n de Viajes</h1>

<p>
Este proyecto es un prototipo exploratorio para un <strong>Trabajo de Fin de M√°ster (TFM)</strong> cuyo objetivo es demostrar c√≥mo un conjunto de agentes inteligentes pueden colaborar para facilitar la organizaci√≥n integral de viajes. La propuesta se basa en la arquitectura de <strong>servidores MCP (Model-Context Protocol)</strong> del Agent Development Kit (ADK) de Google, que permite conectar agentes con servicios externos de forma estandarizada.
</p>

<hr>

<h2>¬øQu√© hace este prototipo?</h2>

<p>El sistema consta de dos componentes principales:</p>

<ol>
  <li><strong>Agente Notion:</strong> Un agente conversacional que se ejecuta sobre el ADK. Su funci√≥n es interactuar con Notion a trav√©s de su servidor MCP para crear p√°ginas y bloques de contenido. El agente est√° configurado para ser proactivo y aprovechar la informaci√≥n ya disponible sin pedir datos redundantes al usuario.</li>
  <li><strong>Servidor MCP de Tripadvisor:</strong> Un microservidor escrito en Python que envuelve la <em>Tripadvisor Content API</em> como herramientas MCP. Permite buscar lugares, consultar detalles, leer rese√±as y obtener fotograf√≠as a partir de una clave de API. El servidor se ejecuta mediante el transporte <code>stdio</code> para poder ser invocado como herramienta desde el ADK.</li>
</ol>

<p>La combinaci√≥n de ambos componentes permite, por ejemplo, realizar una b√∫squeda en Tripadvisor desde el agente y almacenar el resultado como un bloque estructurado en Notion. Este flujo demuestra c√≥mo diferentes servicios pueden orquestarse de manera coherente dentro de un sistema multiagente.</p>

<hr>

<h2>üß© Requisitos</h2>

<p>Para ejecutar el prototipo necesitar√°s:</p>

<ul>
  <li><strong>Python 3.9</strong> o superior y <strong>Node.js</strong> instalados en tu equipo.</li>
  <li>Una clave de API de <strong>Tripadvisor Content API</strong> (solic√≠tala en <a href="https://developer-tripadvisor.com/" target="_blank">Tripadvisor for Developers</a>).</li>
  <li>Un token de acceso de <strong>Notion</strong> (clave <code>NOTION_API_KEY</code> o <code>NOTION_TOKEN</code>), que puedes obtener en <a href="https://www.notion.so/my-integrations" target="_blank">Notion Integrations</a>.</li>
  <li>Acceso a Internet para realizar llamadas a las APIs.</li>
</ul>

<h3>Instalaci√≥n de dependencias</h3>

<p>Dentro del repositorio se utilizan las siguientes bibliotecas externas:</p>

<ul>
  <li><code>google-adk</code> y <code>fastmcp</code> ‚Äî para construir agentes y servidores MCP.</li>
  <li><code>httpx</code> ‚Äî para realizar peticiones HTTP as√≠ncronas.</li>
  <li><code>python-dotenv</code> ‚Äî para cargar variables de entorno.</li>
</ul>

<p>Para instalarlas puedes crear un entorno virtual (opcional) y ejecutar:</p>

<pre>python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt</pre>

<blockquote>
<strong>Nota:</strong> Si no existe un fichero <code>requirements.txt</code>, instala manualmente las dependencias:<br>
<code>pip install google-adk fastmcp httpx python-dotenv</code>
</blockquote>

<hr>

<h2>‚öôÔ∏è Configuraci√≥n</h2>

<ol>
  <li><strong>Clona</strong> este repositorio:</li>
</ol>

<pre>git clone https://github.com/usuario/sistema-viajes-multiagente.git
cd sistema-viajes-multiagente</pre>

<ol start="2">
  <li><strong>Crea un archivo <code>.env</code></strong> en la ra√≠z del proyecto con tus claves:</li>
</ol>

<pre># Clave para utilizar la Tripadvisor Content API
TRIPADVISOR_API_KEY=TU_CLAVE_DE_TRIPADVISOR

# Token de Notion para operaciones b√°sicas
NOTION_API_KEY=TU_TOKEN_DE_NOTION
# o bien:
# NOTION_TOKEN=TU_TOKEN_DE_NOTION

# Token de tu integraci√≥n de Notion para el servidor MCP
NOTION_MCP_TOKEN=TU_TOKEN_DE_NOTION_MCP
</pre>

<ol start="3">
  <li><strong>Verifica la instalaci√≥n</strong> ejecutando el servidor de Tripadvisor y el agente Notion (ver siguiente secci√≥n).</li>
</ol>

<hr>

<h2>üöÄ C√≥mo ejecutar el prototipo</h2>

<h3>1Ô∏è‚É£ Iniciar el servidor MCP de Tripadvisor</h3>

<p>El servidor ofrece las herramientas MCP para la API de Tripadvisor. Para ejecutarlo en modo consola (<code>stdio</code>):</p>

<pre>python main.py</pre>

<p>El script imprimir√° la configuraci√≥n cargada (ocultando la clave de API) y quedar√° a la espera de comandos del ADK.</p>

<h3>2Ô∏è‚É£ Ejecutar el agente de Notion</h3>

<p>Para lanzar el agente que se conecta a Notion a trav√©s de su MCP, ejecuta:</p>

<pre>python agent.py</pre>

<p>Este agente utiliza <code>npx</code> para arrancar el servidor MCP oficial de Notion. Aseg√∫rate de tener Node.js y <code>npx</code> disponibles.  
En Windows, puedes ajustar la ruta a <code>NPX_PATH</code> dentro del c√≥digo.</p>

<h3>3Ô∏è‚É£ Ejemplo de uso</h3>

<ol>
  <li>Con el servidor de Tripadvisor en marcha, inicia el agente de Notion.</li>
  <li>El agente te pedir√° una consulta, por ejemplo: ‚ÄúBusca hoteles en Barcelona‚Äù.</li>
  <li>El agente invocar√° la herramienta <code>search_locations</code> del servidor de Tripadvisor, interpretar√° la respuesta y crear√° una p√°gina en Notion con la informaci√≥n relevante.</li>
  <li>En tu espacio de Notion aparecer√° una nueva p√°gina con los resultados estructurados autom√°ticamente.</li>
</ol>

<p>Este flujo demuestra c√≥mo integrar distintos servicios para construir un asistente de viaje. En proyectos m√°s amplios podr√≠an a√±adirse agentes adicionales (reservas, itinerarios, gastos, etc.).</p>

<hr>

<h2>üìÅ Estructura de archivos</h2>

<pre>‚îú‚îÄ‚îÄ agent.py         # Configura el agente del ADK para interactuar con Notion
‚îú‚îÄ‚îÄ main.py          # Entrada para arrancar el servidor MCP de Tripadvisor via stdio
‚îú‚îÄ‚îÄ server.py        # Implementaci√≥n de las herramientas MCP para Tripadvisor
‚îú‚îÄ‚îÄ prompt.py        # Instrucciones del agente Notion
‚îú‚îÄ‚îÄ .env             # Variables de entorno (no se incluye en el repositorio p√∫blico)
‚îî‚îÄ‚îÄ README.md        # Este documento
</pre>

<hr>

<h2>üß© Consideraciones finales</h2>

<p>
Este prototipo es una <strong>demostraci√≥n acad√©mica</strong>. No est√° optimizado para producci√≥n ni incluye medidas de seguridad completas.  
Su objetivo es explorar la <strong>viabilidad</strong> de un sistema multiagente que orqueste servicios heterog√©neos para asistir en la planificaci√≥n de viajes.
</p>

<p>
Para el TFM se plantea ampliar la arquitectura con nuevos agentes (reservas, itinerarios, gastos, alertas en tiempo real, etc.) y profundizar en la coordinaci√≥n, perfiles de usuario y monitorizaci√≥n din√°mica.
</p>

<p>
Esperamos que este repositorio te sirva como punto de partida para explorar el fascinante mundo de los sistemas multiagente aplicados a la gesti√≥n de viajes.
</p>

<footer>
¬© 2025 ‚Äî Proyecto de TFM: Sistema Multiagente para la Gesti√≥n de Viajes
</footer>

</body>
</html>
